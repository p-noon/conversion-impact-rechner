<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Umsatz & Ertrag Simulator</title>
<style>
body {
  font-family: system-ui, sans-serif;
  padding: 30px;
  background: #f4f4f6;
}

h2 {
  margin-bottom: 20px;
}

label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
}

input[type=number] {
  padding: 6px;
  width: 100%;
  box-sizing: border-box;
  margin-bottom: 12px;
  font-size: 16px;
}

.slider-wrapper {
  margin: 20px 0;
  position: relative;
}

#resetBtn {
  position: absolute;
  right: -28px;
  top: -4px;
  cursor: pointer;
  font-size: 18px;
  color: #0071e3;
  user-select: none;
}

input[type=range] {
  width: 100%;
}

.slider-value {
  font-weight: bold;
  color: #0071e3;
  margin-left: 6px;
}

.results {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

.result-card {
  background: white;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
  flex: 1;
  text-align: center;
}

.result-card h3 {
  margin-bottom: 6px;
  font-size: 15px;
  color: #444;
}

.result-card p {
  font-size: 18px;
  font-weight: bold;
  color: #0071e3;
}

/* ðŸ“± Mobile: Kacheln untereinander */
@media (max-width: 600px) {
  .results {
    flex-direction: column;
  }
  #resetBtn {
    right: 0;
    top: -20px;
  }
}
</style>
</head>
<body>

<h2>Umsatz & Ertrag Simulator</h2>

<label>Bon (Eingabe):</label>
<input id="bonInput" type="number" step="0.01" placeholder="z. B. 40,11">

<div class="slider-wrapper">
  <label>Bon-Wert:</label>
  <input id="bonSlider" type="range" min="0" max="20000" step="1">
  <span id="bonValue" class="slider-value">â€“</span>
  <span id="resetBtn">âŸ²</span>
</div>

<label>Conversion Rate (in %):</label>
<input id="crInput" type="number" step="0.01" placeholder="z. B. 5,5">

<div class="slider-wrapper">
  <label>Conversion Rate:</label>
  <input id="crSlider" type="range" min="0" max="1000" step="1">
  <span id="crValue" class="slider-value">â€“</span>
</div>

<div class="results">
  <div class="result-card">
    <h3>Umsatz</h3>
    <p id="umsatz">â€“</p>
  </div>
  <div class="result-card">
    <h3>Ertrag</h3>
    <p id="ertrag">â€“</p>
  </div>
</div>

<script>
const bonInput = document.getElementById("bonInput");
const bonSlider = document.getElementById("bonSlider");
const bonValue = document.getElementById("bonValue");
const resetBtn = document.getElementById("resetBtn");

const crInput = document.getElementById("crInput");
const crSlider = document.getElementById("crSlider");
const crValue = document.getElementById("crValue");

const umsatzEl = document.getElementById("umsatz");
const ertragEl = document.getElementById("ertrag");

// === Funktionen ===

// Tausendertrennung fÃ¼r Anzeige
const formatNumber = num => num.toLocaleString("de-DE", {minimumFractionDigits:2, maximumFractionDigits:2});

// Umsatz & Ertrag berechnen (Dummy-Rechnung)
function calculate() {
  const bonEuro = bonSlider.value / 100;
  const cr = crSlider.value / 10;
  const umsatz = bonEuro * (cr / 100) * 1000;  // Beispielhafte Formel
  const ertrag = umsatz * 0.3;
  umsatzEl.textContent = formatNumber(umsatz) + " â‚¬";
  ertragEl.textContent = formatNumber(ertrag) + " â‚¬";
}

// === Bon ===
bonInput.addEventListener("input", ()=>{
  const valStr = bonInput.value.replace(",",".");
  const euro = parseFloat(valStr) || 0;
  const cents = Math.round(euro * 100);
  bonSlider.value = cents;
  bonValue.textContent = formatNumber(euro) + " â‚¬";
  calculate();
});

bonSlider.addEventListener("input", ()=>{
  const euro = bonSlider.value / 100;
  bonValue.textContent = formatNumber(euro) + " â‚¬";
  bonInput.value = euro.toFixed(2).replace(".",",");
  calculate();
});

resetBtn.addEventListener("click", ()=>{
  bonInput.value = "";
  bonSlider.value = 0;
  bonValue.textContent = "â€“";
  umsatzEl.textContent = "â€“";
  ertragEl.textContent = "â€“";
});

// === Conversion Rate ===
crInput.addEventListener("input", ()=>{
  const valStr = crInput.value.replace(",",".");
  const cr = parseFloat(valStr) || 0;
  const promille = Math.round(cr * 10);
  crSlider.value = promille;
  crValue.textContent = formatNumber(cr) + " %";
  calculate();
});

crSlider.addEventListener("input", ()=>{
  const cr = crSlider.value / 10;
  crValue.textContent = formatNumber(cr) + " %";
  crInput.value = cr.toFixed(2).replace(".",",");
  calculate();
});
</script>

</body>
</html>
