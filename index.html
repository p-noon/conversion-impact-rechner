<style>
/* Radio-Button rund und mittig */
.radio-wrap {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 10px;
  font-size: 0.9rem;
  color: #444;
}
.radio-wrap input[type="checkbox"] {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  accent-color: #0071e3;
  cursor: pointer;
  margin: 0; /* mittig */
}
.radio-wrap label {
  display: inline-block;
  vertical-align: middle;
  cursor: pointer;
}
</style>

<script>
// alte Eventlistener für autoEstimate entfernen, falls vorhanden
document.getElementById("autoEstimate").removeEventListener("change", computeBase);

// neue Logik für Radio-Button
document.getElementById("autoEstimate").addEventListener("change", ()=>{
  const profitInput=document.getElementById("profit");
  const checked=document.getElementById("autoEstimate").checked;

  if(checked){
    // automatische Schätzung berechnen
    const bonGross=+document.getElementById("bonGross").value||0;
    const bonNet=bonGross/1.19;
    const productionCost=+document.getElementById("productionCost").value||0;
    const shippingCost=+document.getElementById("shippingCost").value||0;
    const totalRevenue=parseFloat(document.getElementById("totalRevenue").value.replace(/\./g,""))||0;
    const conversionRate=(+document.getElementById("conversionRate").value||0)/100;
    if(!totalRevenue||!conversionRate||!bonGross) return;

    const visitors=totalRevenue/(conversionRate*bonGross);
    const costRatio=productionCost/bonNet;
    const profitPerOrder=bonNet-(bonNet*costRatio)-shippingCost;
    profitInput.value=Math.round(visitors*conversionRate*profitPerOrder);
  } else {
    // Ertrag löschen
    profitInput.value="";
  }

  computeBase();
});
</script>
